class t{constructor(){this.events=new Map}on(t,s,e=-1){this.events.has(t)||this.events.set(t,[]);const n=this.events.get(t);e<0||e>=n.length?n.push(s):n.splice(e,0,s)}off(t,s){this.events.has(t)&&this.events.set(t,this.events.get(t).filter(t=>t!==s))}emit(t,s){if(this.events.has(t))for(const e of this.events.get(t))if(!1===e(s))break}}class s{constructor(){this.handlers=new Map,this.dispatchHandler=t=>{if(!(t instanceof CustomEvent))return;const s=t.type;if(this.handlers.has(s))for(const e of this.handlers.get(s)){if(t.detail.stopPropagation)break;!1===e(t.detail.data)&&(t.detail.stopPropagation=!0)}}}on(t,s,e=-1){this.handlers.has(t)||this.handlers.set(t,[]);const n=this.handlers.get(t);e<0||e>=n.length?n.push(s):n.splice(e,0,s),window.addEventListener(t,this.dispatchHandler)}off(t,s){this.handlers.has(t)&&(this.handlers.set(t,this.handlers.get(t).filter(t=>t!==s)),0===this.handlers.get(t).length&&window.removeEventListener(t,this.dispatchHandler))}emit(t,s){window.dispatchEvent(new CustomEvent(t,{detail:{data:s,stopPropagation:!1}}))}}export{t as AppEventBus,s as GlobalEventBus};
//# sourceMappingURL=index.modern.mjs.map
